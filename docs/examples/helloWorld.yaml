scripts:
  hello-qdup:
    - set-state: GREETING Local Greeting!
    - log: ${{GREETING}}
    - log: ${{RUN.GREETING}}

  another-script:
    - log: ${{RUN.COUNTER}}
    - set-state: RUN.COUNTER ${{= ${{RUN.COUNTER}} + 2}}
    - log: ${{RUN.COUNTER}}
    - set-state: COUNTER 21
    - log: ${{COUNTER}}

hosts:
  local : ${{USER}}@${{HOST}}
roles:
  run-hello-qdup:
    hosts:
      - local
    run-scripts:
      - hello-qdup
      - another-script
states:
  COUNTER: 1
  GREETING: Hello qDup!
  USER:
  HOST:

